## 1차시(1/6) - 스프링이 필요한 이유
### 백엔드의 시스템 소프트웨어 아키텍처 구성(웹 서비스 아키텍처)
1. Web Server - nginx 등
	- TLS, 로드밸런서 역할 수행
2. WAS(Web Application Server) - Tomcat 등
	- 런타임(웹어플리케이션 실행 환경)
	- http 연동하고 서블릿 생성 등의 역할 수행
	- 서블릿 컨테이너를 통해 Dispatcher Servlet 관리
3. Web Application -> 우리 공부 주제!

### 스프링이란?
- 자바 기반으로 서버 어플리케이션 작성 도와주는 프레임워크
- 사용 이유?
	- 객체 간 결합도를 낮추고
	- AOP(역할 분리, 공통 기능 한 번에 작성 등)
	- 기능 별로 모듈 분리되어 있어 사용 편함
	- 이런 것들이 기존 서블릿으로는 힘듦
- Servlet
	- JSP, 동적 앱 만드는데 사용하는 자바 기술
	- 신경 안쓰고 작성하다 보면 클래스 비대, 역할 분담 어려움, 디버깅 힘듦
- Spring 장점
	1. POJO(Plain Old Java Object) 기반의 구성
		- Java만 알아도 Spring Code 작성 가능(다른 언어 등에 의존성 없음)
	2. IoC(Inversion of Control) - *인터페이스*
		- 객체의 생성, 생명주기, 의존성에 대한 내용을 개발자가 직접 작성하지 않고 프레임워크에 책임을 위임
		- Spring IoC Container
			- 객체의 생명주기를 관리하는 런타임
			- 객체 그래프(Object Graph)를 만들고 관리
				- 객체 간의 참조 관계 구조
	3. DI(Dependency Injection) - *구현체*
		- 의존성 주입
		- 종류
			- 인터페이스 주입 - 형은 이점을 잘 모르겠다고 함
			- 생성자 주입 - 많이 씀
			- setter 주입 - 잘 안 씀
	[https://velog.io/@ohzzi/Spring-DIIoC-IoC-DI-그게-뭔데](https://velog.io/@ohzzi/Spring-DIIoC-IoC-DI-%EA%B7%B8%EA%B2%8C-%EB%AD%94%EB%8D%B0)
	4. 컴포넌트 스캔과 자동 의존관계 설정
		- 컴포넌트 스캔
			- 스프링 시작 시 Bean annotation들을 한 번 쫙 스캔하고 객체 생성을 최초로 한 번 수행
				- 수많은 http 요청마다 객체 생성하고 상태 가지게 되면 계속 만들고 삭제해야...(JBM, 인프라구조 커져야 하고 Garbage Collector가 엄청 많이 수행)
					- cf) Java에는 4개의 thread가 있음, 그 중 GC thread가 엄청 많이 돌아가면 다른 thread가 잘 못 돌아감..
			- Singleton 패턴이라고 할 수 있음
				- 클래스 하나에 객체 하나 생성(서비스 객체 하나, configuration 객체 하나..)
				- 객체 삭제는 없음(프로그램이 죽을 때 삭제)
				- private final로 선언(여러 서비스에서 계속 재사용해야 하므로 상태 가지면 안됨)
					- cf) 메소드, http 요청 등은 class와 다른 메모리(stack)에서 따로 관리되므로 new 생성자 사용해도 됨
			- @autowired 붙어있는 애들은 런타임에서 필요시 집어넣어짐
				- Spring IoC Container 통해서 만들어 둔 Bean을 등록
				- 객체 의존관계를 외부에서 넣어줌
				- 지금은 쓰지 않음(공식 문서가 쓰지 말라고 함)
	5. AOP(관점 지향 프로그래밍)
		- 관심사의 분리를 깔끔하게 해 줌
			- 코드 구성 시 관리 로직, 비즈니스 로직으로 깔끔히 책임 분리
				- 관리, 유지보수 쉬워짐
				- 코드 짧아짐
		- WAS에 종속적이지 않음
			- Servlet Container에서 Dispatcher Servlet을 관리할 때 정해진 인터페이스를 사용하므로 WAS에서 Servlet 표준을 구현해야 둬야 함
			- WAS의 버전은 중요함
				- 버전에는 종속적, 예를들어 스프링에서 Java17 이상을 쓰려면 Tomcat의 일정 버전 이상을 사용해야 함
				- Spring boot가 개 편하게 관리해 줌